(this.webpackJsonpreact_admin=this.webpackJsonpreact_admin||[]).push([[6],{1037:function(e,t,a){"use strict";a.r(t);a(169);var n=a(91),r=(a(86),a(27)),c=(a(230),a(95)),o=a(66),s=a.n(o),l=(a(233),a(118)),i=a(110),u=a(3),m=a(0),f=a.n(m),g=a(120),h=a(521),p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t="",a=0;a<e;a++)t+=Math.floor(10*Math.random());return t},d={getCaptcha:"/api/captcha?code=",getLogin:"/login"};function b(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.getData(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a(213),w=(a(688),function(e){var t=Object(m.useState)(e),a=Object(u.a)(t,2),n=a[0],r=a[1];return{val:n,onChange:function(e){r(e.target.value)}}}),x=a(446),k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},O=a(25),y=function(e,t){return m.createElement(O.a,Object.assign({},e,{ref:t,icon:k}))};y.displayName="LockOutlined";var j=m.forwardRef(y),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},C=function(e,t){return m.createElement(O.a,Object.assign({},e,{ref:t,icon:N}))};C.displayName="PictureOutlined";var L=m.forwardRef(C),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},_=function(e,t){return m.createElement(O.a,Object.assign({},e,{ref:t,icon:z}))};_.displayName="GithubOutlined";var M=m.forwardRef(_),S=a(168),I=p();t.default=Object(g.b)((function(e){return{}}),(function(e){return{setUserInfoMy:function(t){e(Object(E.a)(t))}}}))((function(e){var t=w(""),o=w(""),g=w(""),h=Object(m.useRef)(null),v=Object(m.useState)(!1),E=Object(u.a)(v,2),k=E[0],O=E[1];Object(m.useEffect)((function(){(localStorage.getItem("userinfo")?JSON.parse(localStorage.getItem("userinfo")):null)?e.history.replace("/home"):h.current.focus()}),[]);var y=function(){var a=Object(i.a)(s.a.mark((function a(){var n,r,c,i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.val.trim(),r=o.val.trim(),c=g.val.trim(),a.prev=3,n){a.next=6;break}throw new Error("\u7528\u6237\u540d\u4e0d\u80fd\u4e3a\u7a7a");case 6:if(r){a.next=8;break}throw new Error("\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a");case 8:if(c){a.next=10;break}throw new Error("\u9a8c\u8bc1\u7801\u4e0d\u80fd\u4e3a\u7a7a");case 10:if(c===I){a.next=12;break}throw new Error("\u9a8c\u8bc1\u7801\u9519\u8bef");case 12:return O(!0),a.next=15,b({data:{_loginName:n,_password:r},url:d.getLogin});case 15:if(i=a.sent,O(!1),n!==i.username||r!==i.password){a.next=24;break}return localStorage.setItem("userinfo",JSON.stringify({_loginName:n,_password:r})),a.next=21,e.setUserInfoMy({_loginName:n,_password:r});case 21:e.history.replace("/home"),a.next=25;break;case 24:throw new Error("\u7528\u6237\u540d\u5bc6\u7801\u9519\u8bef");case 25:a.next=31;break;case 27:return a.prev=27,a.t0=a.catch(3),l.a.error(a.t0.message),a.abrupt("return");case 31:case"end":return a.stop()}}),a,null,[[3,27]])})));return function(){return a.apply(this,arguments)}}(),N=Object(m.useCallback)((function(e){I=p();var t=d.getCaptcha+I;e.target.src=t}),[]);return f.a.createElement("section",{className:"login-page"},f.a.createElement("a",{rel:"noopener noreferrer",className:"login-right",href:"https://github.com/2662419405",target:"_blank"},f.a.createElement("img",{src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149",alt:"github"})),f.a.createElement("div",{className:"wrap"},f.a.createElement("div",null,f.a.createElement("div",{className:"logo-wrap"},f.a.createElement("img",{alt:"logo",className:"logo",src:a(689)}),f.a.createElement("em",null,"TS + Hooks")),f.a.createElement(c.a.Group,null,f.a.createElement(c.a,Object.assign({ref:h},t,{onPressEnter:y,prefix:f.a.createElement(x.a,null),maxLength:32,autoComplete:"off",placeholder:"username/admin"})),f.a.createElement(c.a,Object.assign({},o,{prefix:f.a.createElement(j,null),onPressEnter:y,type:"password",maxLength:32,autoComplete:"off",placeholder:"password/123456"})),f.a.createElement(c.a,Object.assign({},g,{onKeyDown:function(e){13===e.keyCode&&y()},prefix:f.a.createElement(L,null),onPressEnter:y,maxLength:4,autoComplete:"off",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",suffix:f.a.createElement("img",{className:"captcha",src:d.getCaptcha+I,onClick:N,alt:"code"})}))),f.a.createElement(r.a,{size:"large",className:"weitiao-btn",block:!0,type:"primary",onClick:y,loading:k},k?"\u6b63\u5728\u767b\u5f55":"\u767b\u5f55"),f.a.createElement("div",{className:"other-login"},f.a.createElement("span",{className:"txt"},"\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f"),f.a.createElement(M,{className:"github-icon"}),f.a.createElement("div",{className:"href-right"},f.a.createElement(n.a,{placement:"bottom",title:"\u8d26\u53f7\u4e3aadmin,\u5bc6\u7801\u4e3a123456,\u63a8\u8350\u4f7f\u7528\u7b2c\u4e09\u65b9github\u8fdb\u884c\u767b\u5f55"},f.a.createElement("span",{className:"text-right"},"\u6ce8\u518c\u8d26\u53f7")))))),f.a.createElement(S.c,null))}))},521:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(9),r=a(10),c=a(574),o=a.n(c),s=a(175),l=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,null,[{key:"getData",value:function(e){e&&e.isShow&&(document.getElementById("ajaxLoading").style.display="block");return new Promise((function(t,a){var n=e.other?e.url:"".concat(s.a.BaseURL).concat(e.url);o()({url:n,method:"get",timeout:3e3}).then((function(n){e&&e.isShow&&(document.getElementById("ajaxLoading").style.display="none");200===n.status?t(n.data):a(n.data.data)}))}))}}]),e}()},688:function(e,t,a){},689:function(e,t,a){e.exports=a.p+"static/media/sh.ec67dc9e.png"}}]);